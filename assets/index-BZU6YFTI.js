import l from"izitoast";import w,{Autoplay as q,Navigation as x}from"swiper";import I from"axios";import*as k from"basiclightbox";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();//! Â Form submit Â (Header)
const a=document.querySelector(".header-modal-form"),H=document.querySelector(".header-modal"),h=document.querySelector(".header-btn");a.addEventListener("submit",O);async function O(e){e.preventDefault();const t={name:a.elements.name.value.trim(),email:a.elements["email-login"].value.trim(),password:a.elements.password.value.trim()};try{const r=await I.post("https://jsonplaceholder.typicode.com/posts",t,{headers:{"Content-Type":"application/json"}});l.success({title:`Hello, ${t.name}`,position:"topCenter"})}catch(r){console.log(r),l.error({title:"Error",message:"Illegal operation"})}finally{a.reset(),H.classList.remove("is-open"),h.textContent=`Welcome, ${t.name}`,h.style.color="#f17228"}}const c=document.querySelector(".popular-items-list"),g=document.querySelector(".popular-prev-btn"),S=document.querySelector(".popular-next-btn"),L=300;c.addEventListener("scroll",B);function B(){const e=c.scrollLeft,t=c.scrollWidth-c.clientWidth;g.hidden=e<=0,S.hidden=e>=t}g.addEventListener("click",()=>{c.scrollBy({left:-L,behavior:"smooth"})});S.addEventListener("click",()=>{c.scrollBy({left:L,behavior:"smooth"})});//! Show-all content Â (Featured Restaurants)
const y=document.querySelector(".featured_btn_js"),C=document.querySelectorAll(".featured-item");let u=!1;y.addEventListener("click",()=>{u=!u,C.forEach(e=>{e.classList.toggle("show-all")}),y.textContent=u?"Hide":"View All"});//! Scroll Swiper (Search by Food)
new w(".swiper",{modules:[q,x],slidesPerView:"auto",spaceBetween:10,freeMode:!0,freeModeMomentum:!1,speed:1e3,autoplay:{delay:2e3,disableOnInteraction:!1},navigation:{nextEl:".search-next-btn",prevEl:".search-prev-btn"},direction:"horizontal"});//! Input localStorage (Are you starving. Hero)
const b=document.querySelector(".hero-form"),m=document.querySelector(".hero-form-input");document.querySelector(".header-location-text");const f="hero-address-query";b.addEventListener("input",j);b.addEventListener("submit",F);A();function j(e){const t=e.target.value.trim();localStorage.setItem(f,t)}function A(){const e=localStorage.getItem(f);e&&(m.value=e)}function F(e){e.preventDefault();const t=m.value.trim();if(!t){l.error({title:"Error!",message:"Enter your address",position:"bottomLeft"});return}document.querySelectorAll(".header-location-text").forEach(r=>{r.textContent=t}),localStorage.removeItem(f),m.value=""}//!Email submit with fetch (Footer)
const E=document.querySelector(".footer-form"),v=document.querySelector(".footer-form-input");E.addEventListener("submit",N);async function N(e){e.preventDefault();const t=v.value.trim();if(!t){l.error({title:"Error!",message:"Enter your email",position:"bottomLeft"});return}try{const r=await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});if(!r.ok)throw new Error("Server error");const s=await r.json();console.log("Response:",s),l.success({title:"Hmm...",message:"The server request went through without any issues, but I'm still on the job hunt."}),v.value=""}catch(r){console.log("ÐžÑˆÐ¸Ð±ÐºÐ°:",r.message)}finally{E.reset(),console.log("Form reset")}}const P=document.querySelector(".search-list");P.addEventListener("click",e=>{if(e.target.classList.contains("search-item-img")){const t=e.target.dataset.name,r=e.target.dataset.description,s=e.target.src;k.create(`
      <div class="search-item-modal-container">
        <img src="${s}" class="search-item-modal-img">
        <h2 class="search-item-modal-title">${t}</h2>
        <p class="search-item-modal-description">${r}</p>
      </div>
    `,{className:"custom-modal",closable:!0}).show()}});const T=document.querySelector(".header-btn"),i=document.querySelector(".header-modal"),D=document.querySelector(".header-modal-close-btn");T.addEventListener("click",()=>{i.classList.add("is-open")});D.addEventListener("click",()=>{i.classList.remove("is-open")});window.addEventListener("click",e=>{e.target===i&&i.classList.remove("is-open")});const p=document.querySelector(".scroll-to-top");window.addEventListener("scroll",()=>{window.scrollY>800?p.classList.add("show"):p.classList.remove("show")});p.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});//! order Popular items
const $=document.querySelectorAll(".popular-item-btn");$.forEach(e=>{e.addEventListener("click",()=>{e.closest(".popular-items-item").querySelector(".popular-item-title").textContent,l.info({title:"ðŸ‘Œ",message:"I could add the order to the cart, but I need a job offer to make it happen."})})});const M=document.querySelector(".search-input"),V=document.querySelector("#popular-top");M.addEventListener("keydown",e=>{e.key==="Enter"&&(e.preventDefault(),V.scrollIntoView({behavior:"smooth"}))});//! preventDefault footer link (footer)
const W=document.querySelectorAll(".footer-item-link");W.forEach(e=>e.addEventListener("click",t=>{t.preventDefault(),console.log("Click success.")}));
